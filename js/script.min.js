"use strict";var productInfo=document.querySelectorAll(".slider__item:not(.slick-cloned)"),productInfoShowButton=document.querySelector(".product__more"),productInfoShowText=document.querySelector(".product__more-title"),productInfoShowIcon=document.querySelector(".product__more-icon"),productFilter=document.querySelectorAll(".product__filter"),sliderDescription=document.querySelectorAll(".slider__info"),htmlItem=document.querySelector("html"),isProductShowed=!1,deviceWidth=window.innerWidth,desktopWidth=1300,mobileWidth=320,getDesktopRootSize=function(){return deviceWidth/desktopWidth},getMobileRootSize=function(){return deviceWidth/mobileWidth},setRootSize=function(e){htmlItem.style.fontSize=e+"px"};$(".slider-products").slick({slidesToShow:1,slidesToScroll:1,autoplay:!1,autoplaySpeed:3e3,arrows:!0,dots:!1,prevArrow:".slider__controls-prev",nextArrow:".slider__controls-next"}),$(".slider-goods").slick({slidesToShow:1,slidesToScroll:1,autoplay:!1,autoplaySpeed:3e3,arrows:!1,dots:!0,responsive:[{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1,autoplay:!1,autoplaySpeed:3e3,arrows:!1,dots:!0}}]}),$(".slider-achievements").slick({slidesToShow:1,slidesToScroll:1,autoplay:!1,autoplaySpeed:3e3,arrows:!1,dots:!0}),$(".slider-features").slick({slidesToShow:1,slidesToScroll:1,autoplay:!1,autoplaySpeed:3e3,arrows:!1,dots:!0}),$(".slider-team").slick({slidesToShow:1,slidesToScroll:1,autoplay:!1,autoplaySpeed:3e3,arrows:!1,dots:!0});var onDOMLoading=function(){checkDeviceWidth()},sliderDescriptionHide=function(){productInfo.forEach(function(e){e.style.display="none",productInfo[0].style.display="flex"})},onProductShowClick=function(e){e.preventDefault(),isProductShowed=isProductShowed?(productInfo.forEach(function(e){onDOMLoading(),productInfoShowText.textContent="Развернуть",productInfoShowIcon.style.transform="rotate(0)",productFilter.forEach(function(e){e.style.display="block"}),sliderDescription.forEach(function(e){e.style.height="320rem"})}),!1):(productInfo.forEach(function(e){e.style.display="flex",productInfoShowText.textContent="Скрыть",productInfoShowIcon.style.transform="rotate(180deg)",productFilter.forEach(function(e){e.style.display="none"}),sliderDescription.forEach(function(e){e.style.height="auto"})}),!0)},sliderMobileDestroying=function(){$(".slider-achievements").slick("destroy"),$(".slider-goods").slick("destroy"),$(".slider-features").slick("destroy"),$(".slider-team").slick("destroy")},sliderDesktopDestroying=function(){$(".slider-products").slick("destroy")},checkDeviceWidth=function(){768<=deviceWidth&&deviceWidth<1380?(sliderMobileDestroying(),setRootSize(getDesktopRootSize()-.1)):1380<=deviceWidth?(sliderMobileDestroying(),setRootSize(1)):(sliderDesktopDestroying(),sliderDescriptionHide(),setRootSize(getMobileRootSize()))},modalRecall=document.querySelector(".modal--recall"),modalRecallShowButtons=document.querySelectorAll(".modal__link--recall"),modalMessage=document.querySelector(".modal--messages"),modalMessageShowButton=document.querySelector(".modal__link--messages"),modals=document.querySelectorAll(".modal--popup"),modalCloseButtons=document.querySelectorAll(".modal__close"),menu=document.querySelector(".menu"),menuOpenButton=document.querySelector(".toggle"),menuDropdownButton=document.querySelector(".menu__navigation .navigation__link--toggle"),menuDropDown=document.querySelector(".menu__navigation .navigation__list--inner"),hideFilters=function(){document.body.classList.remove("filter"),document.body.classList.remove("scroll-lock")},showFilters=function(){document.body.classList.add("filter"),document.body.classList.add("scroll-lock")},openModalRecall=function(){closeModals(),modalRecallShowButtons.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),modalRecall.classList.remove("hide"),showFilters(),deviceWidth<768&&document.body.classList.remove("scroll-lock")})})},openModalMessages=function(e){e.preventDefault(),closeModals(),deviceWidth<768&&(modalMessage.classList.remove("hide"),document.body.classList.remove("scroll-lock"))},closeModals=function(){modals.forEach(function(e){e.classList.add("hide"),hideFilters()})},onModalCloseClick=function(){modalCloseButtons.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),closeModals()})})},onEscapeButtonPress=function(e){27===e.keyCode&&closeModals()},openMenu=function(){menu.classList.remove("hide"),showFilters()},closeMenu=function(e){e.target===document.body&&(menu.classList.add("hide"),closeModals(),hideFilters())},onDropdownButtonClick=function(e){e.preventDefault(),menuDropDown.classList.toggle("show"),menuDropdownButton.classList.toggle("navigation__item--toggle-active")};openModalRecall(),onModalCloseClick();var assortmentButton=document.querySelector(".assortment__item--mobile"),assortmentItems=document.querySelector(".assortment__list--inner"),assortmentIcon=document.querySelector(".assortment-icon"),onAssortmentDropdownClick=function(){deviceWidth<768&&(assortmentItems.classList.toggle("show"),assortmentIcon.classList.toggle("assortment-icon--active"))};document.addEventListener("keydown",onEscapeButtonPress),menuOpenButton.addEventListener("click",openMenu),document.addEventListener("click",closeMenu),menuDropdownButton.addEventListener("click",onDropdownButtonClick),modalMessageShowButton.addEventListener("click",openModalMessages),document.addEventListener("DOMContentLoaded",onDOMLoading),productInfoShowButton&&productInfoShowButton.addEventListener("click",onProductShowClick),assortmentButton&&assortmentButton.addEventListener("click",onAssortmentDropdownClick);var productItem=document.querySelectorAll(".product--detail"),isProductDescriptionOpen=!1;productItem.forEach(function(e){var o=e.querySelector(".product__description"),t=e.querySelector(".product__filter"),n=e.querySelector(".product__more-title"),s=e.querySelector(".product__more"),l=e.querySelector(".product__icon");e.querySelector(".product__description-item").offsetHeight<140&&(t.remove(),o.style.overflow="auto",s.style.visibility="hidden",o.style.height="146rem",o.style.minheight="146rem"),s.addEventListener("click",function(e){e.preventDefault(),isProductDescriptionOpen=isProductDescriptionOpen?(o.style.height="146rem",o.style.minheight="146rem",o.style.overflow="hidden",t.style.display="block",n.textContent="Читать далее",!(l.style.transform="rotate(0)")):(o.style.height="auto",o.style.minheight="146rem",o.style.overflow="auto",t.style.display="none",n.textContent="Скрыть",l.style.transform="rotate(180deg)",!0)})});